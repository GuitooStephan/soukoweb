<div class="container-fluid mt-4">
    <ng-container *ngIf="loading; else noloading;">
        <div class="row">
            <div class="mx-auto my-5">
                <div class="spinner-border text-primary m-2" role="status">
                    <span class="sr-only">Loading...</span>
                </div>
            </div>
        </div>
    </ng-container>
    <ng-template #noloading>
        <div class="row justify-content-between mb-4">
            <div class="col-12 col-md-5 px-0 d-flex mb-3 align-item-start pt-3">
                <div class="col-2 col-sm-1 col-md-2 px-0 d-flex align-items-start">
                    <a [routerLink]="['/products/list/']" class="mr-4 display-4 font-weight-light text-dark">
                        <i class="uil uil-arrow-left"></i>
                    </a>
                </div>
                <div class="col-9 col-sm text-sm-center text-md-left pr-0">
                    <div class="media">
                        <ng-container *ngIf="product.compressed_product_picture_url; else noProductPicture;">
                            <a [href]="product.compressed_product_picture_url" class="lightbox">
                                <div class="avatar-lg rounded-circle d-flex align-items-center justify-content-around text-center">
                                    <img class="img-fit rounded-circle" [src]="product.compressed_product_picture_url" alt="product picture">
                                </div>
                            </a>
                        </ng-container>
                        <ng-template #noProductPicture>
                            <ngx-avatar class="rounded-circle" [round]="true" [cornerRadius]="4" [size]="72" name="{{product.name}}"></ngx-avatar>
                        </ng-template>
                        <div class="media-body ml-3">
                            <h3 class="my-0">{{product.name}}</h3>
                            <p class="mb-0">{{product.description}}</p>
                            <p class="mb-0">
                                <a (click)="editProduct()" class="mr-2" href="javascript:void(0)">Edit <i class="uil uil-pen"></i></a> |
                                <a (click)="promptForDeletingProduct()" class="ml-2 text-danger" href="javascript:void(0)">Delete <i class="uil uil-trash"></i></a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-12 col-md-6 d-flex align-items-center justify-content-between">
                <div class="col-5 px-0">
                    <div class="media mb-3">
                        <div class="avatar avatar-md rounded-circle d-flex align-items-center justify-content-around bg-soft-primary text-center text-primary">
                            <i class="uil uil-shopping-basket font-size-28"></i>
                        </div>
                        <div class="media-body ml-2">
                            <p class="font-size-16 mb-2 font-weight-bold">Sell. Price</p>
                            <h4 class="text-primary my-0">{{ product.selling_price | currency:currency:'symbol':'1.0-0' }}</h4>
                        </div>
                    </div>
                    <div class="media">
                        <div class="avatar avatar-md rounded-circle d-flex align-items-center justify-content-around bg-soft-primary text-center text-primary">
                            <i class="uil uil-shopping-basket font-size-28"></i>
                        </div>
                        <div class="media-body ml-2">
                            <p class="font-size-16 mb-2 font-weight-bold">Sold</p>
                            <h4 class="text-primary my-0">{{ product.num_of_orders }}</h4>
                        </div>
                    </div>
                </div>
                <div>
                    <div class="vr mb-3"></div>
                    <div class="vr"></div>
                </div>
                <div class="col-5 px-0">
                    <div class="media mb-3">
                        <div class="avatar avatar-md rounded-circle d-flex align-items-center justify-content-around bg-light text-center text-dark">
                            <i class="uil uil-truck font-size-28"></i>
                        </div>
                        <div class="media-body ml-2">
                            <p class="font-size-16 mb-2 font-weight-bold">Buy. Price</p>
                            <h4 class="text-dark my-0">{{ product.buying_price | currency:currency:'symbol':'1.0-0' }}</h4>
                        </div>
                    </div>
                    <div class="media">
                        <div class="avatar avatar-md rounded-circle d-flex align-items-center justify-content-around bg-light text-center text-dark">
                            <i class="uil uil-truck font-size-28"></i>
                        </div>
                        <div class="media-body ml-2">
                            <p class="font-size-16 mb-2 font-weight-bold">Stock</p>
                            <h4 class="text-dark my-0">{{ product.buying_price | currency:currency:'symbol':'1.0-0' }}</h4>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row mb-4">
            <div class="col-lg-12">
                <ul class="nav nav-tabs border-0 justify-content-start">
                    <li class="nav-item">
                        <a class="nav-link" href="javascript:void(0)" routerLink="stocks"
                            routerLinkActive="active">Stocks</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="javascript:void(0)" routerLink="buyers"
                            routerLinkActive="active">Buyers</a>
                    </li>
                </ul>
            </div>
        </div>
        <!-- Product Details End -->
        <router-outlet></router-outlet>
    </ng-template>
</div>